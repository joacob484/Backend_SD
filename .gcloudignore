# ═══════════════════════════════════════════════════════════
# GCLOUDIGNORE - Control de qué se sube a Cloud Build
# ═══════════════════════════════════════════════════════════
# ESTRATEGIA: Ignorar todo, luego permitir SOLO lo necesario

# ────────────────────────────────────────────────────────────
# IGNORAR TODO POR DEFECTO
# ────────────────────────────────────────────────────────────
**

# ────────────────────────────────────────────────────────────
# PERMITIR: Archivos de código fuente
# ────────────────────────────────────────────────────────────
!pom.xml
!src/**

# ──────────────────────────────────────────────────────────────────
# PERMITIR: Dockerfiles y scripts de build
# ──────────────────────────────────────────────────────────────────
!Dockerfile
!Dockerfile.cloudrun
!cloudbuild-cloudrun.yaml
!cloudrun-entrypoint.sh
!wait-for-services.sh

# ────────────────────────────────────────────────────────────
# PERMITIR: Scripts de deployment
# ────────────────────────────────────────────────────────────
!scripts/cloudrun-deploy.sh

# ────────────────────────────────────────────────────────────
# EXCLUIR EXPLÍCITAMENTE: Archivos que NUNCA deben subirse
# ────────────────────────────────────────────────────────────
.git/
.git/**
.env
.env.*
.idea/
.vscode/
node_modules/
**/node_modules/

# ────────────────────────────────────────────────────────────
# CRÍTICO: EXCLUIR target/ para FORZAR rebuild desde cero
# ────────────────────────────────────────────────────────────
target/
**/target/

# ────────────────────────────────────────────────────────────
# EXCLUIR: Logs y temporales
# ────────────────────────────────────────────────────────────
*.log
.DS_Store
